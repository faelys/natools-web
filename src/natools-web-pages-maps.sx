(Natools.Static_Maps.Web.Pages
   pure
   (test-function T)
   (extra-decl "\
   type Command is
     (Unknown_Command,
      Element,
      Element_Or_Template,
      My_Tags,
      Tags,
      Template);

   type Component is
     (Error,
      Elements,
      Tags);")
   (Command
      (hash-package Natools.Static_Maps.Web.Pages.Commands)
      (function To_Command)
      (not-found Unknown_Command)
      (nodes
         (Element   element)
         (Element_Or_Template  render element-or-template)
         (My_Tags  my-tags my-tag-list tag-list)
         (Tags  pagelist page-list tag tags)
         (Template  template)))
   (Component
      (hash-package Natools.Static_Maps.Web.Pages.Components)
      (function To_Component)
      (not-found Error)
      (nodes
         (Tags tags)
         (Elements  elements layout))))
